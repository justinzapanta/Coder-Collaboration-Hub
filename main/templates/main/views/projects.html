{% extends 'main/parts/base.html' %}
{% load static %}



{% block content %}
<nav class="fixed top-0 z-50 w-full bg-white border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
    <div class="px-3 py-3 lg:px-5 lg:pl-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center justify-start rtl:justify-end">
          <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar" aria-controls="logo-sidebar" type="button" class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
              <span class="sr-only">Open sidebar</span>
              <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                 <path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
              </svg>
           </button>
          <a href="#" class="flex ms-2 md:me-24">
            <img src="{% static 'img/logo.png' %}" class="h-10 me-3" alt="Coder Collaboration Hub" />
          </a>
        </div>
        
    <div class="px-4 sm:ml-64 flex-1 md:block hidden">
        <form class="max-w-md mx-auto px-2" method="POST" action="{% url 'projects' %}">   
            {% csrf_token %}
            <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
            <div class="relative">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                    </svg>
                </div>
                <input type="search" name="search" id="default-search" class="block w-full p-4 mt-2  ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white " placeholder="Search Users/Projects" />
                <button type="submit" class="text-white border border-gray-500 absolute end-2.5 bottom-2.5 bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:outline-none  font-medium rounded-lg text-sm px-4 py-2 ">Search</button>
            </div>
        </form>  
    </div>
        <div class="flex items-center ">
            <div class="flex">
                {% if logined %}
                    <a onclick="post_project()" href="#" class="text-white bg-slate-950 hover:bg-slate-700 focus:ring-4  font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 focus:outline-none">Post Project</a>
                    <a href="{% url 'sign out' %}" class="text-gray-800 hidden md:block dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">Sign Out</a>
                {% else %}
                    <a href="#" class="text-white bg-slate-950 hover:bg-slate-700 focus:ring-4  font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5   focus:outline-none " onclick="show()">Post Project</a>
                    <a href="#" class="text-gray-800 dark:text-white hidden md:block hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800" onclick="show()">Sign In</a>
                {% endif %}
            </div>

        </div>
    </div>
  </nav>


  <!--POST Project MODAL-->
    <div id="post-modal" class="container max-w-full h-screen fixed top-0 hidden flex-col justify-center z-[150]" style="background-color: rgba(0, 0, 0, 0.483);">
        <div class="flex container max-w-full justify-center md:mt-0 ">
            <!-- Main modal -->
            <div  tabindex="-1" aria-hidden="true" class=" justify-center items-center sm:w-full md:w-auto  md:inset-0 h-[calc(100%-1rem)] max-h-full">
                <div class="relative px-4 py-1 w-full max-w-md max-h-full">
                    <!-- Modal content -->
                    <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                        <!-- Modal header -->
                        <div class="flex items-center justify-between px-4 py-1 border-b rounded-t dark:border-gray-600">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                                Post Your Project
                            </h3>
                            <button onclick="close_post()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-toggle="crud-modal">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                        </div>
                        <!-- Modal body -->
                        <form onsubmit="submit_post(this, event)" class="px-4 py-1.5">
                            <div class="grid gap-4 mb-4 grid-cols-2">
                                <div class="col-span-2">
                                    <div class="container max-w-max flex">
                                        <label for="project-name" class="block mb-2 flex-1 text-sm font-medium text-gray-900 dark:text-white">Project Name</label>
                                        <h1 id="submit-notif" class="text-red-500 text-xs"></h1>
                                    </div>
                                    <input type="text" name="project-name" id="project-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block min-w-72 w-full px-2.5 py-1.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type Project Name" required="">
                                </div>
                                <div class="col-span-2 sm:col-span-1">
                                    <label for="github-link" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">GitHub Project Link</label>
                                    <input type="text" name="github-link" id="github-link" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full px-2.5 py-1.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="GitHub Link" required="">
                                </div>
                                <div class="col-span-2 sm:col-span-1">
                                    <label for="discord-link" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Discord Invitation Link</label>
                                    <input type="text" name="discord-link" id="discord-link" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full px-2.5 py-1.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Discord Link" required="">
                                </div>
                                <div class="col-span-2">
                                    <label for="tools" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Programming Language and Framework</label>
                                    <input type="text" name="tools" id="tools" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full px-2.5 py-1.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Programming and Framework" required="">
                                </div>
                                <div class="col-span-2">
                                    <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="small_size">Upload Project Image</label>
                                    <input accept="image/*" class="block w-full text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400" type="file">        
                                </div>
                                <div class="col-span-2">
                                    <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Project Description</label>
                                    <textarea id="project-description" name="project-description" rows="4" class="block p-2.5 w-full resize-none text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300  dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white " placeholder="Write project description here" required></textarea>                    
                                </div>
                            </div>
                            <div class="container max-w-full justify-center flex">
                                <button type="submit" class="text-white inline-flex items-center bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center ">
                                    <svg class="me-1 -ms-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></svg>
                                    Add new product
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div> 
        </div>
    </div>
  <!--POST Project MODAL END-->

  
  <aside id="logo-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700" aria-label="Sidebar">
     <div class="h-full px-3 pb-4 overflow-y-auto bg-white dark:bg-gray-800">
        <ul class="space-y-2 font-medium">
            <li>
                <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                    <!-- Replace this SVG with a profile icon SVG -->
                    <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10 11a3 3 0 100-6 3 3 0 000 6z" />
                        <path fill-rule="evenodd" d="M18 18v-2a5 5 0 00-5-5H7a5 5 0 00-5 5v2h16zM5 9a4 4 0 118 0 4 4 0 01-8 0z" clip-rule="evenodd" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Profile</span>
                </a>
            </li>
           <li>
              <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                 <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                    <path d="M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"/>
                 </svg>
                 <span class="flex-1 ms-3 whitespace-nowrap">Friends</span>
              </a>
           </li>
           <li>
            <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Replace this SVG with a message icon SVG -->
                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 3a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12l4 3V5a2 2 0 0 0-2-2zM7 7h6v1H7V7zm0 3h6v1H7v-1zm0 3h4v1H7v-1z" clip-rule="evenodd" />
                </svg>
                <span class="flex-1 ms-3 whitespace-nowrap">Messages</span>
                <span class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium  rounded-full">3</span>
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                    <!-- Replace the SVG with a bookmark icon -->
                    <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 1l2.59 5.29 5.89.86-4.28 4.18 1.01 5.87-5.31-2.79-5.31 2.79 1.01-5.87-4.28-4.18 5.89-.86L10 1z"></path>
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Favorites</span>
                </a>
            </li>
           <li class="block md:hidden">
            {% if logined %}
                <a  href="{% url 'sign out' %}" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
            {% else %}
                <a onclick="show()" href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
            {% endif %}                    
               <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 16">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 8h11m0 0L8 4m4 4-4 4m4-11h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3"/>
               </svg>
                <span class="flex-1 ms-3 whitespace-nowrap">
                {% if logined %}
                    Sign Out
                {% else %}
                    Sign In
                {% endif %}                    
                </span>
            </a>
         </li>

        </ul>
     </div>
  </aside>

    <div class="px-4  md:hidden block">
        <form class="max-w-md mx-auto px-2" method="POST" action="{% url 'projects' %}">   
            {% csrf_token %}
            <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
            <div class="relative ">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                    </svg>
                </div>
                <input type="search" name="search" id="default-search" class="block w-full p-4 mt-2  ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" placeholder="Search Users/Projects" />
                <button type="submit" class="text-white border border-gray-500 absolute end-2.5 bottom-2.5 bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:outline-none  font-medium rounded-lg text-sm px-4 py-2 ">Search</button>
            </div>
        </form>  
    </div>


    <!--POST CARD MODAL-->
    <div id="post-card-modal" class="container max-w-full fixed h-screen hidden flex-col justify-center z-[100] top-0" style="background-color: rgba(0, 0, 0, 0.483);">
        <div class="container max-w-full flex justify-center">
            <div id="small-modal" tabindex="-1" class=" md:mt-0 p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
                <div class="relative w-full max-w-md max-h-full">
                    <!-- Modal content -->
                    <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                        <!-- Modal header -->
                        <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                            <h3 id="post-card-modal-project-name" class="text-lg font-medium text-gray-900 dark:text-white">
                                Project Name
                            </h3>
                            <button onclick="close_post_modal()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="small-modal">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                        </div>
                        <!--Image-->

                        <div id="default-carousel" class="relative w-full" data-carousel="slide">
                            <!-- Carousel wrapper -->
                            <div class="relative h-44 overflow-hidden rounded-lg md:h-52">
                                 <!-- Item 1 -->
                                <div class="hidden duration-700 ease-in-out" data-carousel-item>
                                    <img src="{% static 'img/team.png' %}" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                                </div>
                                <!-- Item 2 -->
                                <div class="hidden duration-700 ease-in-out" data-carousel-item>
                                    <img src="{% static 'img/team.png' %}" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                                </div>
                                <!-- Item 3 -->
                                <div class="hidden duration-700 ease-in-out" data-carousel-item>
                                    <img src="{% static 'img/team.png' %}" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                                </div>
                            </div>
                            <!-- Slider indicators -->
                            <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
                                <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
                                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
                                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>
                            </div>
                            <!-- Slider controls -->
                            <button type="button" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
                                <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                                    <svg class="w-4 h-4 text-black dark:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
                                    </svg>
                                    <span class="sr-only">Previous</span>
                                </span>
                            </button>
                            <button type="button" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
                                <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                                    <svg class="w-4 h-4 text-black dark:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                                    </svg>
                                    <span class="sr-only">Next</span>
                                </span>
                            </button>
                        </div>
                        
                        <!-- Modal body -->
                        <div class="p-4 md:p-5 space-y-4 overflow-y-auto md:min-w-32 min-w-24 max-h-48 md:max-h-48">
                            <p id="post-card-modal-description" class="text-sm leading-relaxed text-gray-500  dark:text-gray-400">
                                Description
                            </p>
                        </div>
                        <!-- Modal footer -->
                        <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600 container max-w-full">
                            <a id="github-link-button" target="_blank" type="button" href="#" class="text-white flex-1 w-1/12 bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center">GitHub</a>
                            <a id="discord-link-button" target="_blank" type="button" href="#" class="py-2.5 px-5 w-1/12 flex-1 ms-3 text-sm text-white font-medium focus:outline-none bg-purple-700 rounded-lg border border-gray-200 hover:bg-purple-600 focus:z-10 focus:ring-4 focus:ring-gray-100 text-center">Join Discord</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--END POST CARD MODAL-->


    <div id="post-card-container" class="p-4 sm:ml-64 md:mt-4">
        {% for project in projects %}
            <!--Post card-->
            <div class="flex items-center justify-center h-48 mb-7 rounded">
                <div class="container max-w-full mt-8 flex justify-center">
                    <div class=" relative bg-slate-200 rounded-xl shadow-md hover:cursor-pointer w-11/12 md:w-8/12">
                        {% if logined %}
                            <svg id="star-id-{{project.project_id}}" project-id="{{project.project_id}}" onclick="add_favorite(this)" class="flex-shrink-9 w-10 h-9 z-20 absolute right-4 top-5 text-gray-500 transition duration-75" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 1l2.59 5.29 5.89.86-4.28 4.18 1.01 5.87-5.31-2.79-5.31 2.79 1.01-5.87-4.28-4.18 5.89-.86L10 1z"></path>
                            </svg>
                        {% else %}
                            <svg onclick="show()" class="flex-shrink-9 w-10 h-9 absolute right-4 top-5 text-gray-500 transition duration-75 z-20" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 1l2.59 5.29 5.89.86-4.28 4.18 1.01 5.87-5.31-2.79-5.31 2.79 1.01-5.87-4.28-4.18 5.89-.86L10 1z"></path>
                            </svg>
                        {% endif %}
                        <div class="h-full w-full" onclick="show_post_card_modal(this)" github-link="{{project.project_github_link}}" discord-link="{{project.project_discord_link}}" id="post-card-{{project.project_id}}">
                            <div class="container absolute top-0 max-w-full justify-center flex">
                                <h1 class="text-xs font-bold text-gray-500 mt-1">click to view and join</h1>
                            </div>
                            <div class=" flex relative">
                                <a href="#">
                                    <div class="w-10 h-10 md:w-14 md:h-14 mt-5 ml-2 md:ml-4 rounded-full bg-black">
                                        <!--Image-->
                                        <img class="rounded-full" src="{% static 'img/justin.jpg' %}" alt="">
                                    </div>
                                </a>
                                <a class="font-bold mt-7 md:mt-8 ml-3 md:text-base text-sm post-card-{{project.project_id}}" href="#">{{project.project_owner.first_name}} {{project.project_owner.last_name}}</a>
                            </div>
                            <!--Project Name-->
                            <div class="container max-w-full md:absolute top-10 flex justify-center">
                                <h1 id="post-card-project-name" class="text-center md:mt-1 font-bold truncate w-44 md:w-80 md:text-base text-sm post-card-{{project.project_id}}">{{project.project_name}}</h1>
                            </div>
                            <!--Project Description-->
                            <div>
                                <p id="post-card-description" class="px-5 md:mt-3 mt-2 line-clamp-4 md:line-clamp-3 md:text-sm text-xs post-card-{{project.project_id}}">{{project.project_description}}</p>
                            </div>
                            <!--tools-->
                            <div class="mt-2 text-gray-500 border-t border-gray-300">
                                <h1 id="post-card-tools" class=" mt-3 px-2 ml-0 mb-4 md:ml-4 truncate md:text-sm text-xs post-card-{{project.project_id}}">{{project.project_tools}}</h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end post card-->
        {% endfor %}
     </div>
    {% block script %}
        <script>
            //Favorites
            function add_favorite(this_){
                let request = new XMLHttpRequest()
                request.open('POST', '/api/projects/favorite/')
                request.setRequestHeader('Content-type', 'application/json')

                let id = this_.id
                let star = document.querySelector(`#${id}`)
                let project_id = parseInt(this_.getAttribute('project-id'))
                if(star.classList.contains('text-gray-500')){
                    request.send(JSON.stringify({
                        'project-id': project_id,
                        'add' : true
                        }))
                    star.classList.replace('text-gray-500', 'text-yellow-600')
                }else{
                    request.send(JSON.stringify({
                        'project-id': project_id,
                        'add' : false
                        }))
                    star.classList.replace('text-yellow-600', 'text-gray-500')
                }
                
            }


            //Post Project Model
            let post_modal = document.querySelector('#post-modal')
            function post_project(){
                post_modal.classList.replace('hidden', 'flex')
            }

            function close_post(){
                post_modal.classList.replace('flex', 'hidden')
            }


            //submit post
            let project_name = document.querySelector('#project-name')
            let github_link = document.querySelector('#github-link')
            let discord_link = document.querySelector('#discord-link')
            let tools = document.querySelector('#tools')
            let project_description = document.querySelector('#project-description')
            let post_notif = document.querySelector('#submit-notif')

            function submit_post(_this, event){
                event.preventDefault()
                const today = new Date();
                const yyyy = today.getFullYear()
                const mm = String(today.getMonth() + 1).padStart(2, '0')
                const dd = String(today.getDate()).padStart(2, '0')
                const formattedDate = `${yyyy}/${mm}/${dd}`

                let request = new XMLHttpRequest()
                request.open('POST', '/api/projects/post/')
                request.setRequestHeader('Content-type', 'application/json')

                if (String(github_link.value).includes('https://github.com/')){
                    github_link.classList.replace('border-red-500', 'border-gray-300')
                    if (String(github_link.value).includes('https://github.com/')){
                        request.send(JSON.stringify({
                            'project-name' : project_name.value,
                            'github-link' : github_link.value,
                            'discord-link' : discord_link.value,
                            'tools' : tools.value,
                            'project-description' : project_description.value,
                            'current-date' : formattedDate
                            }))
                        _this.submit()
                        request.onloadend = () => {
                            window.location.href = '/projects'
                        }
                    }else{
                        post_notif.textContent = 'Incorrect Discord link'
                        discord_link.classList.replace('border-gray-300', 'border-red-500')
                    }
                }else{
                    post_notif.textContent = 'Incorrect Github link'
                    github_link.classList.replace('border-gray-300', 'border-red-500')
                }
            }

            function show_post_card_modal(_this){
                document.querySelector('#post-card-modal').classList.replace('hidden', 'flex')
                let post = document.querySelectorAll(`.${_this.id}`)
                
                document.querySelector('#post-card-modal-project-name').textContent = post[1].textContent
                document.querySelector('#post-card-modal-description').textContent = post[2].textContent
                document.querySelector('#github-link-button').href = _this.getAttribute('github-link')
                document.querySelector('#discord-link-button').href = _this.getAttribute('discord-link')

            }

            function close_post_modal(){
                document.querySelector('#post-card-modal').classList.replace('flex', 'hidden')
            }
        </script>
    {% endblock %}
{% endblock %}